# Generating documents in Jupyterlab: jupydoc

This package allows a Jupyter user to produce nicely formatted documention of an analysis,
at the same time as performing the analysis.
It employs the docstring of a function, interpreted as markdown. As such, in can include LaTex and figures, reflecting 
processing of the function.

See the [document](https://tburnett.github.io/jupydoc) which was generated by [this code](jupydoc/document.py).

From the introduction:

### What is it, and how does it work?
It is lightweight, some ~400 lines of code in Python exclusive of this document, with, besides depending on
IPython and nbconvert, non-essential dependencies on pandas, matplotlib, and numpy.   
The key elements that explain the design and operation are:

* **Code and markdown cells in a Jupyterlab notebook**<br>
The origin of this package was rooted in a desire to be able to combine the nice formatting capability of
markdown cells, with the output from the computation in a code cell. By default, any matplotlib
figures created in its computation will automatically appear below the cell. This behavior, it turns out,
can be controlled  by code executed in the cell. The key here is that code can create markdown text,
which will be interpreted just as the text in a markdown cell. This includes LaTex.

* **Python [inspection](https://docs.python.org/3/library/inspect.html)**<br>
The inspection capability gives access to two important elements of a function:
  * docstring&mdash; a text string immediately following the function declaration.
  * symbol table&mdash;in python terms, a "dict" with variable names as keys, and where where each value is a
           reference to the object represented by the name

* **Python string format method**<br>
Since python 2.6, text strings have had a "format" method, which interprets occurrences of "{{...}}", 
replacing what it finds between the
curly brackets with its evaluation as an expression. (With python 3, this is built into special format strings.)

* **[nbconvert](https://nbconvert.readthedocs.io/en/latest/)**<br>
This separate package supports creation of an HTML document from a notebook, specifically 
interpreting Jupyterlab's version of markdown, in this case the Juptyerlab version of markdown. 
It is necessary to produce an (almost) identical-looking  document to what is rendered in the notebook.


### What is it good for?

* **A document like this**<br>
This document is itself a demonstration, testing all the features it describes! It was generated using 
member functions  of the class `jupydoc.Document`, which inherits from `jupydoc.Publisher`.
Each such function represents a section in the document. The code that produced this document is in fact testing and 
describing the code that produces it.

* **Simple Jupyterlab-based analyses**<br>
Rather than spreading output among several cells, this encourages making a coherent description, 
including output plots, say, in the area below a single cell.

* **Personal notebook**<br>
Rather than cutting and pasting single plots to a personal notebook, this allows the clipping 
to include many details, with LaTex formulas perhaps.

* **Presentations and analysis documents**<br>
Sharing ones analysis results with others is a small step from the personal notebook. The days of 
needing PowerPoint to make presentations seem to be over, so the document can be the presentation medium.

* **Publication?**<br>
Well, I'd not go that far, but the evolution to such should be easy, especially if relevant LaTex
formulae, plots with captions and relevant description have already been done.

---

To try out the development version, put its single folder into your path (get it via clone or zip).

On the road to PyPI, very old version from a pypi learning test can be installed thus:
```
python3 -m pip install --index-url https://test.pypi.org/simple/ --no-deps jupydoc-tburnett

```


Here is a simple hello world, code in a Jupyter code cell:

```
from jupydoc import Publisher

class Hello(Publisher):
    
    def sayhi(self, to):
        """
        Hello there, {to}!
        """
        self.publishme()
h =Hello()
h.sayhi('world')
```
which displays, below the code cell, the following:
`Hello there, world!`
